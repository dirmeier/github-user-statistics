/*! wgithub-user-statistics 2017-10-12 */

function print_error(){$(".plotbox").show(),$("#spinner_id").hide(),$(".plotbox").html("<h6>Could not GET repository information from GitHub API.<br>Some AJAX error.</h6>")}function get_repo_names(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];!1===d.fork&&b.push(d.name)}return b}function repo_language_bytes(a,b){var c={};for(i=0;i<b.length;i++)$.ajax({dataType:"json",url:"https://api.github.com/repos/"+a+"/"+b[i]+"/languages",success:function(a){c[b[i]]=a},error:function(){print_error()},async:!1});return c}function stats(a,b){barplot("plotbox_id",repo_language_bytes(a,get_repo_names(b)))}function query(){$("#spinner_id").show(),$(".plotbox").hide();var a=$("#searchfield").val();$.ajax({dataType:"json",url:"https://api.github.com/users/"+a+"/repos?per_page=1000",success:function(b){stats(a,b)},error:function(){print_error()},async:!1})}function barplot(a,b){var c=[];for(var d in b){var e=b[d];c.unshift({x:[],y:[],name:d,orientation:"h",type:"bar"});for(var f in e)c[0].y.push(f),c[0].x.push(e[f]);i+=1}if(0!==c.length){var g={title:"Most used programming languages in bytes",barmode:"stack",height:1e3};$("#spinner_id").hide(),Plotly.newPlot(a,c,g),$(".plotbox").css("display","block")}else $(".plotbox").show(),$("#spinner_id").hide(),$(".plotbox").html("<h6>Could not plot. Some error.</h6>")}